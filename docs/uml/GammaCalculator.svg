<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1126pt" height="825pt"
 viewBox="0.00 0.00 1126.03 825.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 821.2)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-821.2 1122.0282,-821.2 1122.0282,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-389.5 0,-816.7 1118.0282,-816.7 1118.0282,-389.5 0,-389.5"/>
<text text-anchor="middle" x="559.0141" y="-800.1" font-family="Times,serif" font-size="14.00" fill="#000000">MarginCalculator</text>
<polyline fill="none" stroke="#000000" points="0,-791.9 1118.0282,-791.9 "/>
<text text-anchor="start" x="8" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BASE: uint256</text>
<text text-anchor="start" x="8" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ZERO: FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracle: OracleInterface</text>
<polyline fill="none" stroke="#000000" points="0,-699.9 1118.0282,-699.9 "/>
<text text-anchor="start" x="8" y="-683.3" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="8" y="-666.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isMarginableLong(_vault: MarginVault.Vault, _vaultDetails: VaultDetails): bool</text>
<text text-anchor="start" x="8" y="-649.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getExpiredCashValue(_underlying: address, _strike: address, _expiryTimestamp: uint256, _strikePrice: uint256, _isPut: bool): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-632.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getPutSpreadMarginRequired(_shortAmount: FPI.FixedPointInt, _longAmount: FPI.FixedPointInt, _shortStrike: FPI.FixedPointInt, _longStrike: FPI.FixedPointInt): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-616.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getCallSpreadMarginRequired(_shortAmount: FPI.FixedPointInt, _longAmount: FPI.FixedPointInt, _shortStrike: FPI.FixedPointInt, _longStrike: FPI.FixedPointInt): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-599.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getExpiredSpreadCashValue(_shortAmount: FPI.FixedPointInt, _longAmount: FPI.FixedPointInt, _shortCashValue: FPI.FixedPointInt, _longCashValue: FPI.FixedPointInt): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-582.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_checkIsValidVault(_vault: MarginVault.Vault, _vaultDetails: VaultDetails)</text>
<text text-anchor="start" x="8" y="-565.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getMarginRequired(_vault: MarginVault.Vault, _vaultDetails: VaultDetails): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-548.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isMarginableCollateral(_vault: MarginVault.Vault, _vaultDetails: VaultDetails): bool</text>
<text text-anchor="start" x="8" y="-532.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_convertAmountOnLivePrice(_amount: FPI.FixedPointInt, _assetA: address, _assetB: address): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-515.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_convertAmountOnExpiryPrice(_amount: FPI.FixedPointInt, _assetA: address, _assetB: address, _expiry: uint256): FPI.FixedPointInt</text>
<text text-anchor="start" x="8" y="-498.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isNotEmpty(_assets: address[]): bool</text>
<text text-anchor="start" x="8" y="-481.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getVaultDetails(_vault: MarginVault.Vault): VaultDetails</text>
<text text-anchor="start" x="8" y="-464.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-448.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExpiredPayoutRate(_otoken: address): uint256</text>
<text text-anchor="start" x="8" y="-431.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8" y="-414.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_oracle: address)</text>
<text text-anchor="start" x="8" y="-397.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExcessCollateral(_vault: MarginVault.Vault): (uint256, bool)</text>
</g>
<!-- 0struct0 -->
<g id="node2" class="node">
<title>0struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="457.8952,-.5 457.8952,-352.5 660.133,-352.5 660.133,-.5 457.8952,-.5"/>
<text text-anchor="middle" x="559.0141" y="-335.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="559.0141" y="-319.1" font-family="Times,serif" font-size="14.00" fill="#000000">VaultDetails</text>
<polyline fill="none" stroke="#000000" points="457.8952,-310.9 660.133,-310.9 "/>
<text text-anchor="start" x="465.8952" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000">shortUnderlyingAsset: address</text>
<text text-anchor="start" x="465.8952" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortStrikeAsset: address</text>
<text text-anchor="start" x="465.8952" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateralAsset: address</text>
<text text-anchor="start" x="465.8952" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000">longUnderlyingAsset: address</text>
<text text-anchor="start" x="465.8952" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000">longStrikeAsset: address</text>
<text text-anchor="start" x="465.8952" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000">longCollateralAsset: address</text>
<text text-anchor="start" x="465.8952" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000">shortStrikePrice: uint256</text>
<text text-anchor="start" x="465.8952" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000">shortExpiryTimestamp: uint256</text>
<text text-anchor="start" x="465.8952" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000">shortCollateralDecimals: uint256</text>
<text text-anchor="start" x="465.8952" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">longStrikePrice: uint256</text>
<text text-anchor="start" x="465.8952" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000">longExpiryTimestamp: uint256</text>
<text text-anchor="start" x="465.8952" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000">longCollateralDecimals: uint256</text>
<text text-anchor="start" x="465.8952" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000">collateralDecimals: uint256</text>
<text text-anchor="start" x="465.8952" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000">isShortPut: bool</text>
<text text-anchor="start" x="465.8952" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">isLongPut: bool</text>
<text text-anchor="start" x="465.8952" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000">hasLong: bool</text>
<text text-anchor="start" x="465.8952" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000">hasShort: bool</text>
<text text-anchor="start" x="465.8952" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000">hasCollateral: bool</text>
</g>
<!-- 0struct0&#45;&gt;0 -->
<g id="edge1" class="edge">
<title>0struct0&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M559.0141,-352.7857C559.0141,-360.8763 559.0141,-369.0401 559.0141,-377.2288"/>
<polygon fill="#000000" stroke="#000000" points="559.0142,-377.2383 563.0141,-383.2383 559.0141,-389.2383 555.0141,-383.2382 559.0142,-377.2383"/>
</g>
</g>
</svg>
